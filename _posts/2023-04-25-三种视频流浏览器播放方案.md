---
title: 三种视频流浏览器播放方案
author: Travis <Hongxu Wei>
date: 2023-04-25 09:12:19 +0800
categories: [Daily Space]
tags: [hls, rtsp, rtmp]
math: false
---



> 视频流大致分为三种：HLS、RTSP、RTMP



## 一、HLS

HLS（Http Live Streaming) 是一个由苹果公司提出的基于HTTP的流媒体网络传输协议，直接把流媒体切片成一段段，信息保存到m3u列表文件中， 可以将不同速率的版本切成相应的片；播放器可以直接使用http协议请求流数据。

- 优势：
  - 可以在不同速率的版本间自由切换，实现无缝播放。
  - 省去使用其他协议的烦恼。
- 劣势：
  - 延迟大小受切片大小影响，不适合直播，适合视频点播。
  - 实时性差，延迟高。HLS 的延迟基本在 10s+ 以上
  - 文件碎片。特性的双刃剑，ts 切片较小，会造成海量小文件，对存储和缓存都有一定的挑战



## 二、RTMP

RTMP（Real Time Message Protocol）由 Adobe 公司提出流媒体协议，并且是私有协议，未完全公开，用来解决多媒体数据传输流的多路复用（Multiplexing）和分包（packetizing）的问题，RTMP协议一般传输的是 flv，f4v 格式流。一般在 TCP 1个通道上传输命令和数据。

- 优势：

  - 在于低延迟，稳定性高，支持所有摄像头格式

  - 专为流媒体开发的协议，对底层的优化比其它协议更加优秀

- 劣势：

  - 浏览器需要加载 flash插件才能播放。

  - RTMP 为 Adobe 私有协议，很多设备无法播放，特别是在 iOS 端，需要使用第三方解码器才能播放

  - 基于 TCP 传输，非公共端口，可能会被防火墙阻拦



## 三、RTSP

RTSP（Real-Time Stream Protocol）由Real Networks 和Netscape共同提出的流媒体协议，RTSP协议是共有协议，并有专门机构做维护。是**TCP/IP协议体系**中的一个**应用层**协议. RTSP协议一般传输的是 ts、mp4 格式的流，RTSP传输一般需要 2-3 个通道，命令和数据通道分离。基于文本的多媒体播放控制协议. RTSP定义流格式，流数据经由RTP传输；

- 优势:
  - RTSP实时效果非常好，适合视频聊天，视频监控等方向。
- 劣势：
  - 浏览器不能直接播放，只能通过插件或者转码



## 四、简单对比

<img src="https://travisnotes.oss-cn-shanghai.aliyuncs.com/mdpic/202304250921848.png" alt="image-20230425092148793" style="zoom:50%;" />



## 附录

[简述 HLS，HTTP，RTSP，RTMP 协议的区别](https://blog.csdn.net/bingqingsuimeng/article/details/79184948)

[视频流浏览器播放解决方案](https://juejin.cn/post/6844903953126129671)