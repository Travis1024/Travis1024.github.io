---
title: 服务器数据盘挂载
author: Travis <Hongxu Wei>
date: 2023-04-27 10:19:53 +0800
categories: [Java Learning Space]
tags: [ubuntu]
math: false
---



### 服务器数据盘挂载（ubuntu）



1. 查看有哪些磁盘

   ```shell
   fdisk -l
   ```

2. 对数据盘进行分区

   - 其中/dev/vda为系统盘，/dev/vdb为数据盘，数据盘暂未做任何操作，要使用的话，先做挂载。

   - 对数据盘进行分区

   ```shell
   fdisk /dev/vdb
   ```

3. 根据提示进行输入

   ```
   （1）n，回车 （n: 加一个新的分区）
   （2）p, 回车 （p: 主分区）
   （3）1，回车两次 （1：1号分区，回车选默认设置）
   （4）wq，回车,（wq: 保存并退出），创建分区。
   ```

4. 查看分区是否成功

   ```shell
   fdisk -l
   ```

5. 对分区的磁盘进行格式化，格式化成ext4的格式

   ```shell
   mkfs -V -t ext4 /dev/vdb1
   ```

6. 在服务器根目录下，建立data 目录，便于后面将数据盘挂到 data

   ```shell
   mkdir data
   ```

7. 写入新分区信息

   将数据盘挂到 data 上的信息加入

   ```shell
   echo '/dev/vdb1 /data ext4 defaults 0 0' >> /etc/fstab
   ```

8. 查看新分区信息

   ```shell
   cat /etc/fstab
   ```

9. 挂载新分区到 data 目录

   ```shell
   mount /dev/vdb1 /data
   ```

10. 查看磁盘信息

   ```shell
   df -h
   ```
